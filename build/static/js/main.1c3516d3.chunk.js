(this["webpackJsonpreact-snake-game"]=this["webpackJsonpreact-snake-game"]||[]).push([[0],[,,,,,,,,,,,function(t,e,a){},,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n,c=a(0),o=(a(11),a(1)),i=a.n(o),s=a(8),r=a.n(s),b=a(2),d=(a(15),a(4));a(16);!function(t){t[t.INITIAL=0]="INITIAL",t[t.START=1]="START",t[t.TICK=2]="TICK",t[t.GAME_OVER=3]="GAME_OVER"}(n||(n={}));a(17);var u=function(t){var e=Object(o.useState)(Object(c.jsx)("div",{})),a=Object(b.a)(e,2),n=a[0],i=a[1];return Object(o.useEffect)((function(){t.state.foodPosition.length>0&&i(Object(c.jsx)("div",{className:"food",style:{width:t.state.snakeSize,height:t.state.snakeSize,top:"".concat(t.state.foodPosition[1]*t.state.snakeSize,"px"),left:"".concat(t.state.foodPosition[0]*t.state.snakeSize,"px")}}))}),[t.state.snakePositions,t.state.gameState]),n},f=(a(18),function(t){var e=Object(o.useState)([]),a=Object(b.a)(e,2),n=a[0],i=a[1];return Object(o.useEffect)((function(){var e=t.state.snakePositions.map((function(e,a){return Object(c.jsx)("div",{className:"snake",style:{width:t.state.snakeSize,height:t.state.snakeSize,top:"".concat(e.y*t.state.snakeSize,"px"),left:"".concat(e.x*t.state.snakeSize,"px")}},a)}));i(e)}),[t.state.snakePositions]),Object(c.jsx)(c.Fragment,{children:n})}),j=function(t,e){switch(t){case"UP":if("DOWN"===e)return!0;break;case"DOWN":if("UP"===e)return!0;break;case"LEFT":if("RIGHT"===e)return!0;break;case"RIGHT":if("LEFT"===e)return!0}return!1},O=function(t){var e=20,a=Object(o.useState)(0),i=Object(b.a)(a,2),s=i[0],r=i[1],O=Object(o.useState)(0),l=Object(b.a)(O,2),h=l[0],y=l[1],k=Object(o.useState)(0),m=Object(b.a)(k,2),g=m[0],x=m[1],T=Object(o.useState)(0),p=Object(b.a)(T,2),S=p[0],I=p[1],v=Object(o.useState)([]),P=Object(b.a)(v,2),w=P[0],A=P[1];Object(o.useEffect)((function(){var a=window.innerWidth,c=window.innerHeight,o=c%e,i=a%e;r(o/2),y(i/2);var s=c-o,b=a-i;I(s),x(b);var u=s/e,f=b/e;t.dispatch({type:n.INITIAL,board:Array.from(Object(d.a)(Array(f).keys()).map((function(){return"empty"})),(function(){return Object(d.a)(Array(u).keys()).map((function(){return"empty"}))}))})}),[]),Object(o.useEffect)((function(){if(t.state.gameState===n.TICK){var e=setTimeout((function(){t.dispatch({type:n.TICK,direction:w[0]})}),100);return w.length>1&&A(w.slice(1)),function(){return clearTimeout(e)}}}),[t.state.snakePositions]);return Object(c.jsxs)("div",{id:"board",className:"board",style:{borderTopWidth:s,borderBottomWidth:s,borderLeftWidth:h,borderRightWidth:h,gridTemplateRows:"repeat(".concat(S/e,", ").concat(e,"px)"),gridTemplateColumns:"repeat(".concat(g/e,", ").concat(e,"px)")},onKeyDown:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":var a=w[w.length-1],c=e.key.slice(e.key.indexOf("w")+1).toUpperCase();(t.state.gameState===n.START||a!==c&&!j(a,c))&&(1===w.length?A([c,c]):A([].concat(Object(d.a)(w),[c]))),t.state.gameState===n.START&&t.dispatch({type:n.TICK,direction:c})}},tabIndex:0,children:[Object(c.jsx)(f,{state:t.state}),Object(c.jsx)(u,{state:t.state})]})},l=(a(19),function(t){var e=Object(o.useState)("React Snake Game"),a=Object(b.a)(e,2),i=a[0],s=a[1],r=Object(o.useState)("Start"),d=Object(b.a)(r,2),u=d[0],f=d[1],j=Object(o.useState)(1),O=Object(b.a)(j,2),l=O[0],h=O[1];Object(o.useEffect)((function(){var t;null===(t=document.getElementById("btnStart"))||void 0===t||t.focus()}),[]),Object(o.useEffect)((function(){var e;switch(t.state.gameState){case n.INITIAL:s("React Snake Game"),f("Start");break;case n.START:h(0);break;case n.TICK:break;default:s("Game Over"),f("Play again"),h(1),null===(e=document.getElementById("btnStart"))||void 0===e||e.focus()}}),[t.state.gameState]);var y=function(){var e;t.dispatch({type:n.START}),null===(e=document.getElementById("board"))||void 0===e||e.focus()};return Object(c.jsx)("div",{className:"panel",style:{opacity:l},onKeyDown:function(t){switch(t.key){case"Enter":y()}},tabIndex:0,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:i}),Object(c.jsx)("button",{id:"btnStart",onClick:y,children:u})]})})}),h=a(3),y=function(t,e){switch(e.type){case n.INITIAL:return Object(h.a)(Object(h.a)({},t),{},{board:e.board});case n.START:var a=g(t.board),c=t.board.map((function(t){return t.map((function(){return"empty"}))}));return c[a[0]][a[1]]="food",Object(h.a)(Object(h.a)({},t),{},{gameState:n.START,isPlaying:!0,board:c,snakePositions:[{y:10,x:10,direction:"UP"}],foodPosition:a});case n.TICK:if(t.isPlaying){if(m(Object(h.a)(Object(h.a)({},t),{},{direction:e.direction})))return Object(h.a)(Object(h.a)({},t),{},{gameState:n.GAME_OVER,isPlaying:!1,direction:"UP"});var o=k(t.board,t.snakePositions,t.foodPosition,e.direction);return Object(h.a)(Object(h.a)({},t),{},{gameState:n.TICK,isPlaying:!0,board:o.board,snakePositions:o.snakePositions,foodPosition:o.foodPosition,direction:e.direction})}return t;default:return t}},k=function(t,e,a,n){var c=Object(h.a)({},e[e.length-1]),o=Object(d.a)(e),i=!1;switch(n){case"UP":"food"===t[c.x][c.y-1]&&(i=!0,o=[o[0]].concat(Object(d.a)(o)));break;case"DOWN":"food"===t[c.x][c.y+1]&&(i=!0,o=[o[0]].concat(Object(d.a)(o)));break;case"LEFT":"food"===t[c.x-1][c.y]&&(i=!0,o=[o[0]].concat(Object(d.a)(o)));break;case"RIGHT":"food"===t[c.x+1][c.y]&&(i=!0,o=[o[0]].concat(Object(d.a)(o)))}i&&(t[(a=g(t))[0]][a[1]]="food");for(var s=Object(h.a)({},c),r=o.length-2;r>=0;r--){var b=Object(h.a)({},o[r]);t[b.x][b.y]="empty",o[r]=s,t[o[r].x][o[r].y]="snake",s=b}switch(n){case"UP":c={x:c.x,y:c.y-1,direction:n};break;case"DOWN":c={x:c.x,y:c.y+1,direction:n};break;case"LEFT":c={x:c.x-1,y:c.y,direction:n};break;case"RIGHT":c={x:c.x+1,y:c.y,direction:n}}return{board:Object(d.a)(t),snakePositions:[].concat(Object(d.a)(o.slice(0,o.length-1)),[c]),foodPosition:a}},m=function(t){var e=t.board,a=t.snakePositions,n=t.direction,c=a[a.length-1];switch(n){case"UP":if(0===c.y||"snake"===e[c.x][c.y-1])return!0;break;case"DOWN":if(c.y===e[0].length-1||"snake"===e[c.x][c.y+1])return!0;break;case"LEFT":if(0===c.x||"snake"===e[c.x-1][c.y])return!0;break;case"RIGHT":if(c.x===e.length-1||"snake"===e[c.x+1][c.y])return!0}return!1},g=function t(e){var a=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e[0].length);return"empty"===e[a][n]||"empty"===e[a=Math.floor(Math.random()*e[0].length)][n]?[a,n]:(n=Math.floor(Math.random()*e.length),"empty"===e[a][n]?[a,n]:void t(e))},x=function(){var t={gameState:n.INITIAL,isPlaying:!1,snakeSize:20,board:[],snakePositions:[{y:10,x:10,direction:"UP"}],foodPosition:[],direction:"UP"},e=Object(o.useReducer)(y,t),a=Object(b.a)(e,2),i=a[0],s=a[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{state:i,dispatch:s}),Object(c.jsx)(l,{state:i,dispatch:s})]})},T=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),n(t),c(t),o(t),i(t)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),T()}],[[20,1,2]]]);
//# sourceMappingURL=main.1c3516d3.chunk.js.map